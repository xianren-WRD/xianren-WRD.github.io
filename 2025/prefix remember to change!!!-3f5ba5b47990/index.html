<!DOCTYPE html><html lang="zh-CN"><head><meta charset="utf-8"><meta name="keywords" content="代码,博客,折腾,汽车电子"><meta name="description" content="分享嵌入式系统与CAN总线开发相关知识"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><title>A2L文件生成 | 仙人</title><meta name="generator" content="hexo-theme-ayer"><link rel="shortcut icon" href="/favicon.ico"><link rel="stylesheet" href="/dist/main.css"><link rel="stylesheet" href="/css/fonts/remixicon.css"><link rel="stylesheet" href="/css/custom.css"><script src="https://cdn.staticfile.org/pace/1.2.4/pace.min.js"></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@sweetalert2/theme-bulma@5.0.1/bulma.min.css"><script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.0.19/dist/sweetalert2.min.js"></script><style>.swal2-styled.swal2-confirm{font-size:1.6rem}</style><link rel="alternate" href="/atom.xml" title="仙人" type="application/atom+xml"></head></html><body><div id="app"><canvas width="1777" height="841" style="position:fixed;left:0;top:0;z-index:99999;pointer-events:none"></canvas><main class="content on"><section class="outer"><article id="post-A2L文件生成" class="article article-type-post" itemscope itemprop="blogPost" data-scroll-reveal><div class="article-inner"><header class="article-header"><h1 class="article-title sea-center" style="border-left:0" itemprop="name">A2L文件生成</h1></header><div class="article-meta"><a href="/2025/prefix%20remember%20to%20change!!!-3f5ba5b47990/" class="article-date"><time datetime="2025-12-01T13:34:54.000Z" itemprop="datePublished">2025-12-01</time></a><div class="article-category"><a class="article-category-link" href="/categories/%E6%B1%BD%E8%BD%A6%E4%B8%8E%E5%B7%A5%E4%B8%9A%E7%BD%91%E7%BB%9C/">汽车与工业网络</a></div><div class="word_count"><span class="post-time"><span class="post-meta-item-icon"><i class="ri-quill-pen-line"></i> <span class="post-meta-item-text">字数统计:</span> <span class="post-count">2.2k</span> </span></span><span class="post-time">&nbsp; | &nbsp; <span class="post-meta-item-icon"><i class="ri-book-open-line"></i> <span class="post-meta-item-text">阅读时长≈</span> <span class="post-count">8 分钟</span></span></span></div></div><div class="tocbot"></div><div class="article-entry" itemprop="articleBody"><h1 id="A2L文件是什么？"><a href="#A2L文件是什么？" class="headerlink" title="A2L文件是什么？"></a>A2L文件是什么？</h1><p>在汽车电子开发中，A2L文件是XCP标定协议能够正常工作的“地图”和“字典”。</p><p><strong>A2L文件</strong>是一个基于ASCII文本的描述文件，它使用一种叫做ASAP2的标准格式。这个文件详细描述了ECU（电子控制单元）内部的所有“可标定”信息，包括：</p><ul><li><strong>测量变量（Measurement）</strong>：可以从ECU中读取的变量，如发动机转速、水温、传感器电压等。A2L文件告诉标定工具这些变量的<strong>内存地址</strong>、<strong>数据类型</strong>、<strong>转换公式（如将原始值转换为工程单位）</strong>、<strong>采样方式</strong>等。</li><li><strong>标定参数</strong>：可以被修改的参数，如PID控制器的参数、MAP图（查表）、曲线等。A2L文件告诉标定工具这些参数的<strong>内存地址</strong>、<strong>数据类型</strong>、<strong>取值范围</strong>、<strong>显示格式</strong>等。</li><li><strong>ECU通用信息</strong>：如微控制器类型、通信参数（如CAN标识符、波特率）、XCP驱动版本等。</li></ul><p>没有A2L文件，标定工具（如CANape、INCA）就像是一个没有地图的探险家，它不知道ECU内部有什么，也不知道如何去访问它们。</p><h1 id="A2L文件的生成流程"><a href="#A2L文件的生成流程" class="headerlink" title="A2L文件的生成流程"></a>A2L文件的生成流程</h1><p>它的生成<strong>不是一个单一的动作，而是一个贯穿ECU软件开发流程的自动化过程</strong>，主要分为以下几个关键阶段。</p><h2 id="软件模型与变量定义"><a href="#软件模型与变量定义" class="headerlink" title="软件模型与变量定义"></a>软件模型与变量定义</h2><p>这个过程始于软件架构师和标定工程师的设计。</p><ul><li><strong>在模型开发环境（如MATLAB&#x2F;Simulink）中：</strong><ul><li>在编写ECU软件代码时，会定义需要标定的参数（如<code>PID_Kp</code>）、测量变量（如<code>Engine_Speed</code>）、曲线（<code>Curve_IgnitionAdvance</code>）和映射（<code>Map_FuelInjection</code>）。</li><li>通过为这些对象添加特定的<strong>存储类</strong>或<strong>自定义属性</strong>来标记它们为“可标定”或“可测量”。例如，在Simulink中使用<code>ASAP2</code>存储类，或<code>Calibration</code>、<code>Measurement</code>属性。</li></ul></li><li><strong>在传统C代码开发中：</strong><ul><li>使用<code>#define</code>或<code>const</code>定义标定参数，使用全局变量定义测量变量。</li><li>通过<strong>特殊的编译器指令或标签文件</strong>来标记这些变量。<ul><li>例如，在Tasking&#x2F;GreenHills&#x2F;HighTec等编译器中，使用<code>#pragma</code>或<code>__attribute__</code>来指定变量的A2L描述信息（如长名称、单位、精度、最小值&#x2F;最大值）。</li><li>例如，使用特定的、符合ASAP2标准的注释标签（Annotation）来标记那些需要被标定的变量和参数。这些标签通常以 <code>/*@</code> 开头，编译器会忽略它们，但专门的A2L生成工具可以识别。</li></ul></li></ul></li></ul><p><strong>示例：</strong><br>假设我们有一个标定参数 <code>Injection_Time</code> 和一个测量变量 <code>Engine_Speed</code>。</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;A2L_Annotations.h&quot;</span> <span class="comment">// 可能包含一些宏定义，简化书写</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*@ CHARACTERISTIC  // 声明这是一个标定参数</span></span><br><span class="line"><span class="comment">    Name            : Injection_Time_Base</span></span><br><span class="line"><span class="comment">    LongIdentifier  : &quot;Base injection time for calibration&quot;</span></span><br><span class="line"><span class="comment">    Type            : VALUE</span></span><br><span class="line"><span class="comment">    Address         : 0x8000F100  // 这个地址可能是链接器决定的，初期可以是假的</span></span><br><span class="line"><span class="comment">    RecordLayout    : Scalar_FLOAT32_IEEE</span></span><br><span class="line"><span class="comment">    Deposit         : FLOAT32_IEEE</span></span><br><span class="line"><span class="comment">    MaxDiff         : 0.1</span></span><br><span class="line"><span class="comment">    LowerLimit      : 0.0</span></span><br><span class="line"><span class="comment">    UpperLimit      : 25.0</span></span><br><span class="line"><span class="comment">    Format          : &quot;%.3f&quot;</span></span><br><span class="line"><span class="comment">    DisplaySymbol   : &quot;T_inj&quot;</span></span><br><span class="line"><span class="comment">    Unit            : &quot;ms&quot;</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">volatile</span> <span class="type">float</span> Injection_Time_Base = <span class="number">5.0</span>; <span class="comment">// 初始值</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/*@ MEASUREMENT     // 声明这是一个测量变量</span></span><br><span class="line"><span class="comment">    Name            : Engine_Speed</span></span><br><span class="line"><span class="comment">    LongIdentifier  : &quot;Current engine speed measured by crank sensor&quot;</span></span><br><span class="line"><span class="comment">    DataType        : UWORD</span></span><br><span class="line"><span class="comment">    Conversion      : RPM_FACTOR  // 引用一个转换方法，将原始值转为转速</span></span><br><span class="line"><span class="comment">    Resolution      : 1</span></span><br><span class="line"><span class="comment">    Accuracy        : 0.5</span></span><br><span class="line"><span class="comment">    LowerLimit      : 0</span></span><br><span class="line"><span class="comment">    UpperLimit      : 8000</span></span><br><span class="line"><span class="comment">    Unit            : &quot;rpm&quot;</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">volatile</span> <span class="type">unsigned</span> <span class="type">short</span> Engine_Speed_Raw;</span><br></pre></td></tr></table></figure><h2 id="从代码-模型到A2L描述文件"><a href="#从代码-模型到A2L描述文件" class="headerlink" title="从代码&#x2F;模型到A2L描述文件"></a>从代码&#x2F;模型到A2L描述文件</h2><p>这是A2L文件生成的实质阶段，高度依赖自动化工具。</p><ul><li><p><strong>对于基于模型的开发（MBD）：</strong></p><ol><li><strong>模型生成代码：</strong> 使用Simulink Coder&#x2F;Embedded Coder从模型中生成C代码。在生成过程中，之前在模型中添加的ASAP2属性会被保留在生成的代码中（通常以特定的注释或宏的形式存在，例如 <code>/* %ASAP2 */</code>）。</li><li><strong>A2L生成器处理：</strong> 使用专门的<strong>A2L生成工具</strong>来处理生成的代码和&#x2F;或模型文件。</li><li><strong>提取信息：</strong> 该工具会解析代码中的特殊注释和数据结构，提取出变量的<strong>名称、描述、数据类型（uint16, float32等）、单位（rpm, bar）、精度（0.01）、物理范围</strong>等信息，并将其写入A2L文件的<code>/MEASUREMENT</code>、<code>/CHARACTERISTIC</code>等章节。</li></ol></li><li><p><strong>对于传统C代码开发：</strong></p><ol><li><strong>编译与链接：</strong> 写好C代码，并使用支持ASAP2的编译器进行编译。关键的一步是<strong>启用编译器的“调试信息生成”或“A2L生成”选项</strong>。</li><li><strong>生成ELF&#x2F;DWARF和MAP文件：</strong> 编译器会生成包含丰富符号和地址信息的<strong>ELF文件</strong>（及其内部的DWARF调试信息），以及链接器生成的<strong>MAP文件</strong>（记录所有全局变量和函数的最终绝对或相对地址）。</li><li><strong>A2L生成器处理：</strong> 使用编译链配套的A2L生成工具（如Tasking的<code>C Audition</code>、GreenHills的<code>PROBE</code>插件、ETAS的<code>INCA-EIP</code>、或Vector的<code>CANape ASAP2集成工具</code>）。该工具会：<ul><li>解析<strong>MAP文件</strong>获取变量的<strong>链接后地址</strong>。</li><li>解析<strong>源代码</strong>或<strong>ELF&#x2F;DWARF信息</strong>获取变量的<strong>名称、类型、位宽、偏移量、描述、单位、范围</strong>等元数据。</li><li>将这些信息综合，写入A2L文件。</li></ul></li></ol></li></ul><h3 id="A2L生成工具"><a href="#A2L生成工具" class="headerlink" title="A2L生成工具"></a>A2L生成工具</h3><p>这是<strong>自动化</strong>的核心步骤。常见的工具有：</p><ul><li><strong>Vector的 ASAP2 Tool-Set（自动生成A2L工具），ASAP2 Studio（手动编辑A2L的工具）</strong></li><li><strong>ETAS的 ASCET &#x2F; INCA</strong></li><li><strong>dSPACE的 TargetLink</strong></li><li>一些芯片厂商（如Infineon, NXP）也提供自己的工具链插件。</li></ul><p><strong>工具的工作流程：</strong></p><ol><li><strong>解析ELF文件</strong>：读取ELF文件中的符号表，获取每个变量和函数的<strong>最终链接地址</strong>。</li><li><strong>解析源代码</strong>：扫描源代码，找到所有带有ASAP2注解的标签。</li><li><strong>匹配与替换</strong>：将注解中的 <code>Address</code> 字段（可能在源代码中只是一个占位符）<strong>替换为从ELF文件中提取出的真实物理地址</strong>。</li><li><strong>生成A2L文件</strong>：将所有信息（变量名、描述、数据类型、<strong>真实地址</strong>、转换规则、单位等）按照ASAP2标准格式，输出为一个完整的A2L文件。</li></ol><h2 id="添加协议与接口信息（手动-半自动配置）"><a href="#添加协议与接口信息（手动-半自动配置）" class="headerlink" title="添加协议与接口信息（手动&#x2F;半自动配置）"></a>添加协议与接口信息（手动&#x2F;半自动配置）</h2><p>A2L文件不仅包含数据描述，还包含通信协议描述。</p><ul><li><strong><code>/MODULE</code>和<code>/MOD_COMMON</code>部分：</strong> 描述ECU的通用信息。</li><li><strong><code>/IF_DATA</code>部分（最关键的部分之一）：</strong> 这里定义了<strong>XCP</strong>的通信参数。<ul><li><strong>XCP on CAN（最常用）：</strong> 需要指定<code>XCP_DAQ</code>、<code>XCP_PGM</code>等子块，并填入<strong>CAN标识符（TxID, RxID）、波特率、最大DLC、时间参数</strong>等。这些信息通常由网络工程师提供，需要<strong>手动或通过脚本配置</strong>到A2L模板中。</li><li><strong>XCP on Ethernet：</strong> 则需要指定IP地址、端口号、UDP&#x2F;TCP等。</li></ul></li><li>这部分通常通过一个<strong>A2L编辑器</strong>来完成，或者由构建脚本自动将配置文件与上一步生成的数据描述部分合并。</li></ul><h2 id="最终生成与验证"><a href="#最终生成与验证" class="headerlink" title="最终生成与验证"></a>最终生成与验证</h2><p>最终的A2L文件是上述所有信息的集合体。在ECU项目构建的最后阶段（如每日构建或发布构建），会有一个<strong>自动化脚本</strong>（如Python、Makefile）来驱动整个流程：</p><ol><li>编译代码，生成ELF和MAP文件。</li><li>调用A2L生成器，输入源码、ELF&#x2F;MAP文件，输出基础的A2L数据描述部分。</li><li>将通信接口配置(<code>/IF_DATA</code>)与基础部分合并，生成最终的<strong>完整A2L文件</strong>。</li><li>最后，工程师会使用标定工具（如CANape）<strong>连接ECU，加载A2L文件</strong>，进行简单的读写测试，以验证A2L文件的正确性。</li></ol><h2 id="总结：A2L文件生成的流程图"><a href="#总结：A2L文件生成的流程图" class="headerlink" title="总结：A2L文件生成的流程图"></a>总结：A2L文件生成的流程图</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">[工程师设计]</span><br><span class="line">    ↓ (在模型/代码中标记标定变量)</span><br><span class="line">[源代码/模型文件] (包含ASAP2属性或特殊pragma)</span><br><span class="line">    ↓</span><br><span class="line">[编译/代码生成] → 生成 [ELF文件] &amp; [MAP文件]</span><br><span class="line">    ↓</span><br><span class="line">[A2L生成工具] (输入：源码/模型 + ELF/MAP + 数据库)</span><br><span class="line">    ↓</span><br><span class="line">[生成A2L数据描述部分] (名称、地址、类型、单位...)</span><br><span class="line">    ↓ (合并)</span><br><span class="line">[通信配置模板] (XCP on CAN/Eth参数)</span><br><span class="line">    ↓</span><br><span class="line">[完整A2L文件]</span><br><span class="line">    ↓</span><br><span class="line">[验证] → 通过标定工具连接ECU测试</span><br></pre></td></tr></table></figure><p><strong>关键点：</strong></p><ul><li><strong>自动化：</strong> 现代开发中，A2L生成是CI&#x2F;CD（持续集成&#x2F;持续部署）流程的一部分，确保每次软件编译后都有与之精确匹配的A2L文件。</li><li><strong>匹配性：</strong> <strong>A2L文件必须与ECU中刷写的软件二进制文件完全匹配</strong>。如果软件变更导致变量地址或结构改变，就必须重新生成A2L文件，否则标定工具会访问错误的内存地址，导致数据错误或ECU故障。</li><li><strong>工具链依赖：</strong> 整个过程严重依赖于<strong>编译器&#x2F;代码生成器</strong>和<strong>A2L生成插件</strong>的紧密配合。</li></ul><p>因此，A2L文件是连接<strong>ECU软件内部世界</strong>和<strong>外部标定观测世界</strong>的、由工具链自动生成的、至关重要的“桥梁图纸”。</p><div id="reword-out"><div id="reward-btn">打赏</div></div></div><div class="declare"><ul class="post-copyright"><li><i class="ri-copyright-line"></i> <strong>版权声明： </strong>本博客所有文章除特别声明外，著作权归作者所有。转载请注明出处！</li></ul></div><footer class="article-footer"><div class="share-btn"><span class="share-sns share-outer"><i class="ri-share-forward-line"></i> 分享</span><div class="share-wrap"><i class="arrow"></i><div class="share-icons"><a class="weibo share-sns" href="javascript:;" data-type="weibo"><i class="ri-weibo-fill"></i> </a><a class="weixin share-sns wxFab" href="javascript:;" data-type="weixin"><i class="ri-wechat-fill"></i> </a><a class="qq share-sns" href="javascript:;" data-type="qq"><i class="ri-qq-fill"></i> </a><a class="douban share-sns" href="javascript:;" data-type="douban"><i class="ri-douban-line"></i> </a><a class="facebook share-sns" href="javascript:;" data-type="facebook"><i class="ri-facebook-circle-fill"></i> </a><a class="twitter share-sns" href="javascript:;" data-type="twitter"><i class="ri-twitter-fill"></i> </a><a class="google share-sns" href="javascript:;" data-type="google"><i class="ri-google-fill"></i></a></div></div></div><div class="wx-share-modal"><a class="modal-close" href="javascript:;"><i class="ri-close-circle-line"></i></a><p>扫一扫，分享到微信</p><div class="wx-qrcode"><img src="//api.qrserver.com/v1/create-qr-code/?size=150x150&data=https://xianren-wrd.github.io/2025/prefix%20remember%20to%20change!!!-3f5ba5b47990/" alt="微信分享二维码"></div></div><div id="share-mask"></div><ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/A2L/" rel="tag">A2L</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/XCP/" rel="tag">XCP</a></li></ul></footer></div><nav class="article-nav"><a href="/2025/prefix%20remember%20to%20change!!!-e6d5a090949a/" class="article-nav-link"><strong class="article-nav-caption">上一篇</strong><div class="article-nav-title">PNC和VFC介绍</div></a><a href="/2025/prefix%20remember%20to%20change!!!-a58c172dcc1b/" class="article-nav-link"><strong class="article-nav-caption">下一篇</strong><div class="article-nav-title">OBD诊断介绍</div></a></nav><script src="https://cdn.staticfile.org/twikoo/1.4.18/twikoo.all.min.js"></script><div id="twikoo" class="twikoo"></div><script>twikoo.init({envId:""})</script></article></section><footer class="footer"><div class="outer"><ul><li>Copyrights &copy; 2021-2025 <i class="ri-heart-fill heart_icon"></i> wrd</li></ul><ul><li></li></ul><ul><li><span><span><i class="ri-user-3-fill"></i>访问人数:<span id="busuanzi_value_site_uv"></span></span> <span class="division">|</span> <span><i class="ri-eye-fill"></i>浏览次数:<span id="busuanzi_value_page_pv"></span></span></span></li></ul><ul></ul><ul></ul><ul><li><script type="text/javascript" src="https://s9.cnzz.com/z_stat.php?id=1278069914&amp;web_id=1278069914"></script></li></ul></div></footer></main><div class="float_btns"><div class="totop" id="totop"><i class="ri-arrow-up-line"></i></div><div class="todark" id="todark"><i class="ri-moon-line"></i></div></div><aside class="sidebar on"><button class="navbar-toggle"></button><nav class="navbar"><div class="logo"><a href="/"><img src="/images/ayer-side.svg" alt="仙人"></a></div><ul class="nav nav-main"><li class="nav-item"><a class="nav-item-link" href="/">主页</a></li><li class="nav-item"><a class="nav-item-link" href="/archives">归档</a></li><li class="nav-item"><a class="nav-item-link" href="/categories">分类</a></li><li class="nav-item"><a class="nav-item-link" href="/tags">标签</a></li></ul></nav><nav class="navbar navbar-bottom"><ul class="nav"><li class="nav-item"><a class="nav-item-link nav-item-search" title="搜索"><i class="ri-search-line"></i> </a><a class="nav-item-link" target="_blank" href="/atom.xml" title="RSS Feed"><i class="ri-rss-line"></i></a></li></ul></nav><div class="search-form-wrap"><div class="local-search local-search-plugin"><input type="search" id="local-search-input" class="local-search-input" placeholder="Search..."><div id="local-search-result" class="local-search-result"></div></div></div></aside><div id="mask"></div><div id="reward"><span class="close"><i class="ri-close-line"></i></span><p class="reward-p"><i class="ri-cup-line"></i>请我喝杯咖啡吧~</p><div class="reward-box"><div class="reward-item"><img class="reward-img" src="/images/alipay.jpg"> <span class="reward-type">支付宝</span></div><div class="reward-item"><img class="reward-img" src="/images/wechat.jpg"> <span class="reward-type">微信</span></div></div></div><script src="/js/jquery-3.6.0.min.js"></script><script src="/js/lazyload.min.js"></script><script src="/js/tocbot.min.js"></script><script>tocbot.init({tocSelector:".tocbot",contentSelector:".article-entry",headingSelector:"h1, h2, h3, h4, h5, h6",hasInnerContainers:!0,scrollSmooth:!0,scrollContainer:"main",positionFixedSelector:".tocbot",positionFixedClass:"is-position-fixed",fixedSidebarOffset:"auto"})</script><script src="https://cdn.staticfile.org/jquery-modal/0.9.2/jquery.modal.min.js"></script><link rel="stylesheet" href="https://cdn.staticfile.org/jquery-modal/0.9.2/jquery.modal.min.css"><script src="https://cdn.staticfile.org/justifiedGallery/3.8.1/js/jquery.justifiedGallery.min.js"></script><script src="/dist/main.js"></script><div class="pswp" tabindex="-1" role="dialog" aria-hidden="true"><div class="pswp__bg"></div><div class="pswp__scroll-wrap"><div class="pswp__container"><div class="pswp__item"></div><div class="pswp__item"></div><div class="pswp__item"></div></div><div class="pswp__ui pswp__ui--hidden"><div class="pswp__top-bar"><div class="pswp__counter"></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button> <button class="pswp__button pswp__button--share" style="display:none" title="Share"></button> <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button> <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class="pswp__preloader"><div class="pswp__preloader__icn"><div class="pswp__preloader__cut"><div class="pswp__preloader__donut"></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class="pswp__share-tooltip"></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)"></button> <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class="pswp__caption"><div class="pswp__caption__center"></div></div></div></div></div><link rel="stylesheet" href="https://cdn.staticfile.org/photoswipe/4.1.3/photoswipe.min.css"><link rel="stylesheet" href="https://cdn.staticfile.org/photoswipe/4.1.3/default-skin/default-skin.min.css"><script src="https://cdn.staticfile.org/photoswipe/4.1.3/photoswipe.min.js"></script><script src="https://cdn.staticfile.org/photoswipe/4.1.3/photoswipe-ui-default.min.js"></script><script>function viewer_init(){let i=document.querySelectorAll(".pswp")[0],r=document.querySelectorAll(".article-entry img:not(.reward-img)");r.forEach((t,e)=>{t.onclick=()=>{if(!document.querySelector(".left-col.show")){let o=[];r.forEach((t,e)=>{t.getAttribute("data-idx",e);var e=t.getAttribute("data-target")||t.getAttribute("src"),i=t.getAttribute("alt"),r=new Image;r.src=e,o.push({src:e,w:r.width||t.width,h:r.height||t.height,title:i})}),new PhotoSwipe(i,PhotoSwipeUI_Default,o,{index:parseInt(e)}).init()}}})}viewer_init()</script><script src="/js/busuanzi-2.3.pure.min.js"></script><script src="/js/clickBoom2.js"></script><link rel="stylesheet" href="/css/clipboard.css"><script src="https://cdn.staticfile.org/clipboard.js/2.0.10/clipboard.min.js"></script><script>function wait(e,i){window.setTimeout(e,i)}!function(){var e;e="",e+='<button class="btn-copy" data-clipboard-snippet=""><i class="ri-file-copy-2-line"></i><span>COPY</span></button>',$(".highlight .code pre").before(e),$(".article pre code").before(e),(e=new ClipboardJS(".btn-copy",{target:function(e){return e.nextElementSibling}})).on("success",function(e){e=$(e.trigger);e.addClass("copied");let i=$(e.find("i")),n=(i.removeClass("ri-file-copy-2-line"),i.addClass("ri-checkbox-circle-line"),$(e.find("span")));n[0].innerText="COPIED",wait(function(){i.removeClass("ri-checkbox-circle-line"),i.addClass("ri-file-copy-2-line"),n[0].innerText="COPY"},2e3)}),e.on("error",function(e){e.clearSelection();e=$(e.trigger);e.addClass("copy-failed");let i=$(e.find("i")),n=(i.removeClass("ri-file-copy-2-line"),i.addClass("ri-time-line"),$(e.find("span")));n[0].innerText="COPY FAILED",wait(function(){i.removeClass("ri-time-line"),i.addClass("ri-file-copy-2-line"),n[0].innerText="COPY"},2e3)})}((window,document))</script><script src="/js/dz.js"></script><script>window.mermaid&&mermaid.initialize({theme:"forest"})</script></div></body>