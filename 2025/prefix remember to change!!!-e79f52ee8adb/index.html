<!DOCTYPE html><html lang="zh-CN"><head><meta charset="utf-8"><meta name="keywords" content="代码,博客,折腾,汽车电子"><meta name="description" content="分享嵌入式系统与CAN总线开发相关知识"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><title>中断扫盲 | 仙人</title><meta name="generator" content="hexo-theme-ayer"><link rel="shortcut icon" href="/favicon.ico"><link rel="stylesheet" href="/dist/main.css"><link rel="stylesheet" href="/css/fonts/remixicon.css"><link rel="stylesheet" href="/css/custom.css"><script src="https://cdn.staticfile.org/pace/1.2.4/pace.min.js"></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@sweetalert2/theme-bulma@5.0.1/bulma.min.css"><script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.0.19/dist/sweetalert2.min.js"></script><style>.swal2-styled.swal2-confirm{font-size:1.6rem}</style><link rel="alternate" href="/atom.xml" title="仙人" type="application/atom+xml"></head></html><body><div id="app"><canvas width="1777" height="841" style="position:fixed;left:0;top:0;z-index:99999;pointer-events:none"></canvas><main class="content on"><section class="outer"><article id="post-中断扫盲" class="article article-type-post" itemscope itemprop="blogPost" data-scroll-reveal><div class="article-inner"><header class="article-header"><h1 class="article-title sea-center" style="border-left:0" itemprop="name">中断扫盲</h1></header><div class="article-meta"><a href="/2025/prefix%20remember%20to%20change!!!-e79f52ee8adb/" class="article-date"><time datetime="2025-10-25T14:35:09.000Z" itemprop="datePublished">2025-10-25</time></a><div class="article-category"><a class="article-category-link" href="/categories/%E5%B5%8C%E5%85%A5%E5%BC%8F%E6%A6%82%E5%BF%B5%E6%89%AB%E7%9B%B2/">嵌入式概念扫盲</a></div><div class="word_count"><span class="post-time"><span class="post-meta-item-icon"><i class="ri-quill-pen-line"></i> <span class="post-meta-item-text">字数统计:</span> <span class="post-count">2.3k</span> </span></span><span class="post-time">&nbsp; | &nbsp; <span class="post-meta-item-icon"><i class="ri-book-open-line"></i> <span class="post-meta-item-text">阅读时长≈</span> <span class="post-count">8 分钟</span></span></span></div></div><div class="tocbot"></div><div class="article-entry" itemprop="articleBody"><h1 id="什么是中断"><a href="#什么是中断" class="headerlink" title="什么是中断"></a>什么是中断</h1><p>CPU执行程序时，由于发生了某种随机的事件(外部或内部)，引起CPU暂时中断正在运行的程序，转去执行一段特殊的服务程序(中断服务子程序或中断处理程序)，以处理该事件，该事件处理完后又返回被中断的程序继续执行，这一过程称为中断。</p><p>在计算机科学中，中断（Interrupt）是指处理器接收到来自硬件或软件的信号，提示发生了某个事件，应该被注意，这种情况就称为中断。</p><p>通常，在接收到来自外围硬件（相对于中央处理器和内存）的异步信号，或来自软件的同步信号之后，处理器将会进行相应的硬件／软件处理。发出这样的信号称为进行中断请求（interrupt request，IRQ）。</p><p>硬件中断导致处理器通过一个运行信息切换（context switch）来保存执行状态（以程序计数器和程序状态字等寄存器信息为主）；软件中断则通常作为CPU指令集中的一个指令，以可编程的方式直接指示这种运行信息切换，并将处理导向一段中断处理代码。</p><p><strong>为什么要有中断？</strong></p><p>如果计算机系统没有中断，则处理器与外部设备通信时，它必须在向该设备发出指令后进行忙等待（Busy waiting），反复轮询该设备是否完成了动作并返回结果。这就造成了大量处理器周期被浪费。</p><p>引入中断以后，当处理器发出设备请求后就可以立即返回以处理其他任务，而当设备(如：定时器)完成动作后，发送中断信号给处理器，后者就可以再回过头获取处理结果。这样，在设备进行处理的周期内，处理器可以执行其他一些有意义的工作，而只付出一些很小的切换所引发的时间代价。</p><blockquote><p>下面以STM32为例介绍中断机制。</p></blockquote><h2 id="EXTI"><a href="#EXTI" class="headerlink" title="EXTI"></a>EXTI</h2><p>外部中断&#x2F;事件控制器包含多达 23 个用于产生事件&#x2F;中断请求的边沿检测器。</p><p>每根输入线都可单独进行配置，以选择类型（中断或事件）和相应的触发事件（上升沿触发、下降沿触发或边沿触发）。</p><p>每根输入线还可单独屏蔽。</p><p>注：挂起寄存器用于保持中断请求的状态线。</p><p><mark>外部中断&#x2F;事件才需要经过EXTI，芯片外设的中断不用经过EXTI，直接到达NVIC。</mark></p><img src="https://raw.githubusercontent.com/xianren-WRD/Picture/main/img/20201116192105.png" alt="image-20200815143912180" style="zoom:80%"><ul><li>下降沿：数字电路中，数字电平从高电平（数字“1”）变为低电平（数字“0”）的那一瞬间叫作下降沿。</li><li>上升沿：数字电路中，数字电平从低电平（数字“0”）变为高电平（数字“1”）的那一瞬间叫作上升沿。</li></ul><h3 id="外部中断-事件线映射"><a href="#外部中断-事件线映射" class="headerlink" title="外部中断&#x2F;事件线映射"></a>外部中断&#x2F;事件线映射</h3><img src="https://raw.githubusercontent.com/xianren-WRD/Picture/main/img/20201116192112.png" alt="image-20200815145501467" style="zoom:80%"><p><mark>注意：一条中断线在同一时间只能被一个IO口映射。</mark></p><p>比如：PA0占用了EXTI0，其他PB0~PI0是不能使用的。</p><hr><h2 id="NVIC"><a href="#NVIC" class="headerlink" title="NVIC"></a>NVIC</h2><p>嵌套向量中断控制器 (NVIC) ，有两个重要功能：通道的设置，优先级设置。</p><p><strong>NVIC特性</strong><br>嵌套向量中断控制器 NVIC 包含以下特性：</p><ul><li><p>STM32F405xx&#x2F;07xx 和 STM32F415xx&#x2F;17xx 具有 82 个可屏蔽中断通道，STM32F42xxx和STM32F43xxx 具有多达 86 个可屏蔽中断通道（不包括 Cortex™-M4F 的 16 根中断线）</p></li><li><p>16 个可编程优先级（使用了 4 位中断优先级）</p></li><li><p>低延迟异常和中断处理</p></li><li><p>电源管理控制</p></li><li><p>系统控制寄存器的实现</p></li></ul><p>嵌套向量中断控制器 (NVIC) 和处理器内核接口紧密配合，可以实现低延迟的中断处理和晚到中断的高效处理。</p><p><strong>中断向量表（中断通道）</strong></p><p>cortex-M处理器的异常中，编号1-15的为系统异常，16及以上的则为中断输入。</p><p>部分系统异常具有可编程的优先级，部分系统异常具有固定优先级。</p><img src="https://raw.githubusercontent.com/xianren-WRD/Picture/main/img/20201116192118.png" alt="image-20200815145124002" style="zoom:67%"> <img src="https://raw.githubusercontent.com/xianren-WRD/Picture/main/img/20201116192126.png" alt="image-20200914125509271" style="zoom:80%"><p>PENDSV和SYSTICK的中断优先级可以编程，一般要把PENDSV的优先级设置成最低。</p><p>SYSTICK的优先级：</p><ul><li>一般无需设置(高于外部中断的优先级)，毕竟这是系统的时钟源(ucos心脏)。</li><li>可根据项目需要(有些外部中断，项目上要求务必实时)，将SYSTICK优先级设置与合适的位置。很多项目对于实时没有很高的要求，干脆将PENDSV和SYSTICK的优先级都设置成0xFF。此时，因为PENDSV在中断向量表中排在SYSTICK前面，所以如果PENDSV，SYSTICK同时产生中断，PENDSV优先中断。</li></ul><h3 id="中断优先级分组"><a href="#中断优先级分组" class="headerlink" title="中断优先级分组"></a>中断优先级分组</h3><p>首先，对STM32中断进行分组，组0~4。同时，对每个中断设置一个抢占优先级和一个响应优先级值。分组配置是在寄存器SCB-&gt;AIRCR中配置。</p><ul><li>第0组：所有4位用于指定响应优先级</li><li>第1组：最高1位用于指定抢占式优先级，最低3位用于指定响应优先级</li><li>第2组：最高2位用于指定抢占式优先级，最低2位用于指定响应优先级</li><li>第3组：最高3位用于指定抢占式优先级，最低1位用于指定响应优先级</li><li>第4组：所有4位用于指定抢占式优先级</li></ul><p>抢占优先级 &amp; 响应优先级区别：</p><ul><li>高优先级的抢占优先级是可以打断正在进行的低抢占优先级中断的。</li><li>抢占优先级相同的中断，高响应优先级不可以打断低响应优先级的中断。</li><li>抢占优先级相同的中断，当两个中断同时发生的情况下，哪个响应优先级高，哪个先执行。</li><li>如果两个中断的抢占优先级和响应优先级都是一样的话，则看哪个中断先发生就先执行。抢占优先级相同且响应优先级相同的中断，假如同时发生，会按照硬件内部固定的优先级执行。见中断向量表。</li></ul><p><strong>中断优先级：无论是抢占优先级还是响应优先级，优先级数值越小，优先级别越高。</strong></p><img src="https://raw.githubusercontent.com/xianren-WRD/Picture/main/img/20201116192133.png" alt="image-20200815152456795" style="zoom:80%"><hr><h2 id="中断实现案例"><a href="#中断实现案例" class="headerlink" title="中断实现案例"></a>中断实现案例</h2><p>按键库开发要添加库文件：<code>stm32f4xx_exti.c</code>和<code>stm32f4xx_syscfg.c</code></p><ol><li><p>理解按键输入原理图</p></li><li><p>NVIC分组（一个工程当中只能配置一次分组，否则优先级的设置可能会乱，因为不同的优先级组的抢占优先级和响应优先级取值范围是不一样的）</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">NVIC_PriorityGroupConfig</span><span class="params">(<span class="type">uint32_t</span> NVIC_PriorityGroup)</span>;</span><br></pre></td></tr></table></figure></li><li><p>使能SYSCFG时钟，使能GPIOA组时钟</p></li></ol><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">RCC_AHB1PeriphClockCmd(RCC_AHB1Periph_GPIOA, ENABLE);</span><br><span class="line">RCC_APB2PeriphClockCmd(RCC_APB2Periph_SYSCFG, ENABLE);<span class="comment">//这个函数非常重要，在使用外部中断的时候一定要先使能SYSCFG时钟</span></span><br><span class="line"><span class="comment">//函数说明</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">RCC_AHB1PeriphClockCmd</span><span class="params">(<span class="type">uint32_t</span> RCC_AHB1Periph, FunctionalState NewState)</span></span><br><span class="line">    函数功能：使能AHB1外设时钟</span><br><span class="line">    <span class="type">uint32_t</span> RCC_AHB1Periph：外设</span><br><span class="line">    FunctionalState NewState：使能状态  ENABLE or DISABLE</span><br></pre></td></tr></table></figure><ol start="4"><li>初始化IO口为输入</li></ol><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">GPIO_Init</span><span class="params">(GPIO_TypeDef* GPIOx, GPIO_InitTypeDef* GPIO_InitStruct)</span>；</span><br><span class="line">    函数功能：GPIO初始化</span><br><span class="line">    GPIO_TypeDef* GPIOx：GPIO组（A B C D E F ...）</span><br><span class="line">    GPIO_InitTypeDef* GPIO_InitStruct:GPIO结构</span><br><span class="line"></span><br><span class="line">        <span class="keyword">typedef</span> <span class="keyword">struct</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="type">uint32_t</span> GPIO_Pin;                <span class="comment">//引脚</span></span><br><span class="line">            GPIOMode_TypeDef GPIO_Mode;       <span class="comment">//模式</span></span><br><span class="line">            GPIOSpeed_TypeDef GPIO_Speed;      <span class="comment">//速度</span></span><br><span class="line">            GPIOOType_TypeDef GPIO_OType;      <span class="comment">//输出类型</span></span><br><span class="line">            GPIOPuPd_TypeDef GPIO_PuPd;       <span class="comment">//上下拉</span></span><br><span class="line">        &#125;GPIO_InitTypeDef;</span><br></pre></td></tr></table></figure><ol start="5"><li><p>设置IO口与中断线的映射关系</p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">SYSCFG_EXTILineConfig</span><span class="params">()</span>;</span><br></pre></td></tr></table></figure></li><li><p>初始化线上中断，设置触发条件等</p></li></ol><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">EXTI_Init</span><span class="params">(EXTI_InitTypeDef* EXTI_InitStruct)</span>;</span><br><span class="line">函数说明：外部中断控制器初始化</span><br><span class="line">EXTI_InitTypeDef* EXTI_InitStruct：外部中断控制器结构体</span><br><span class="line"></span><br><span class="line">    <span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span></span></span><br><span class="line"><span class="class">    &#123;</span></span><br><span class="line">        <span class="type">uint32_t</span> EXTI_Line;                    <span class="comment">//中继线</span></span><br><span class="line">        EXTIMode_TypeDef EXTI_Mode;          <span class="comment">//中断模式</span></span><br><span class="line">        EXTITrigger_TypeDef EXTI_Trigger;    <span class="comment">//触发条件</span></span><br><span class="line">        FunctionalState EXTI_LineCmd;       <span class="comment">//中断线使能</span></span><br><span class="line">    &#125;EXTI_InitTypeDef;</span><br></pre></td></tr></table></figure><ol start="7"><li>配置中断分组（NVIC），并使能中断</li></ol><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">NVIC_Init</span><span class="params">(NVIC_InitTypeDef* NVIC_InitStruct)</span>;</span><br><span class="line">    函数说明：NVIC控制控制器初始化</span><br><span class="line">    NVIC_InitTypeDef* NVIC_InitStruct：NVIC初始化结构体</span><br><span class="line"></span><br><span class="line">    <span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span></span></span><br><span class="line"><span class="class">    &#123;</span></span><br><span class="line">        <span class="type">uint8_t</span> NVIC_IRQChannel;                      <span class="comment">//NVIC通道，在stm32f4xx.h可查看通道</span></span><br><span class="line">        <span class="type">uint8_t</span> NVIC_IRQChannelPreemptionPriority;    <span class="comment">//抢占优先级</span></span><br><span class="line">        <span class="type">uint8_t</span> NVIC_IRQChannelSubPriority;        <span class="comment">//响应优先级</span></span><br><span class="line">        FunctionalState NVIC_IRQChannelCmd;       <span class="comment">//通道使能  </span></span><br><span class="line">    &#125; NVIC_InitTypeDef;</span><br></pre></td></tr></table></figure><ol start="8"><li><p>编写中断服务函数。（中断服务函数的名字在<code>startup_stm32f40_41xxx.s</code>文件中）</p><p><code>EXTIx_IRQHandler();</code></p></li><li><p>按键消抖</p></li></ol><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//判断中断标志是否为1</span></span><br><span class="line"><span class="keyword">if</span>(EXTI_GetITStatus(EXTI_Line0) == SET)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span>(Bit_RESET == GPIO_ReadInputDataBit(GPIOA, GPIO_Pin_0))</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//消抖</span></span><br><span class="line">        delayms(<span class="number">15</span>);</span><br><span class="line">        <span class="keyword">if</span>(Bit_RESET == GPIO_ReadInputDataBit(GPIOA, GPIO_Pin_0))</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">//等待按键松开。如果按键一直按下不松开的话,程序会卡在这里,所以一般不需要加这一句</span></span><br><span class="line">            <span class="comment">//如果设置按键中断的触发模式为下降沿,当有按键按下的时候,有下降沿产生,延时15ms后,如果还是读取到低电平,则会往下执行,改变灯的状态。在去掉这一句的情况下,程序不会卡在这里。而且,即使松开按键的时候存在下降沿,也不会二次进入这里来改变灯的状态,因为二次进入中断处理函数的时候,经过15ms的延时,GPIO_ReadInputDataBit读取到的将会是高电平,所以,不会进入这里来改变灯的状态</span></span><br><span class="line">            <span class="comment">//while(Bit_RESET == GPIO_ReadInputDataBit(GPIOA, GPIO_Pin_0));</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">//变更灯状态</span></span><br><span class="line">            GPIO_ToggleBits(GPIOF, GPIO_Pin_9);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//清空标志位</span></span><br><span class="line">    EXTI_ClearITPendingBit(EXTI_Line0);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><div id="reword-out"><div id="reward-btn">打赏</div></div></div><div class="declare"><ul class="post-copyright"><li><i class="ri-copyright-line"></i> <strong>版权声明： </strong>本博客所有文章除特别声明外，著作权归作者所有。转载请注明出处！</li></ul></div><footer class="article-footer"><div class="share-btn"><span class="share-sns share-outer"><i class="ri-share-forward-line"></i> 分享</span><div class="share-wrap"><i class="arrow"></i><div class="share-icons"><a class="weibo share-sns" href="javascript:;" data-type="weibo"><i class="ri-weibo-fill"></i> </a><a class="weixin share-sns wxFab" href="javascript:;" data-type="weixin"><i class="ri-wechat-fill"></i> </a><a class="qq share-sns" href="javascript:;" data-type="qq"><i class="ri-qq-fill"></i> </a><a class="douban share-sns" href="javascript:;" data-type="douban"><i class="ri-douban-line"></i> </a><a class="facebook share-sns" href="javascript:;" data-type="facebook"><i class="ri-facebook-circle-fill"></i> </a><a class="twitter share-sns" href="javascript:;" data-type="twitter"><i class="ri-twitter-fill"></i> </a><a class="google share-sns" href="javascript:;" data-type="google"><i class="ri-google-fill"></i></a></div></div></div><div class="wx-share-modal"><a class="modal-close" href="javascript:;"><i class="ri-close-circle-line"></i></a><p>扫一扫，分享到微信</p><div class="wx-qrcode"><img src="//api.qrserver.com/v1/create-qr-code/?size=150x150&data=https://xianren-wrd.github.io/2025/prefix%20remember%20to%20change!!!-e79f52ee8adb/" alt="微信分享二维码"></div></div><div id="share-mask"></div><ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E4%B8%AD%E6%96%AD/" rel="tag">中断</a></li></ul></footer></div><nav class="article-nav"><a href="/2025/prefix%20remember%20to%20change!!!-5323449eed0c/" class="article-nav-link"><strong class="article-nav-caption">上一篇</strong><div class="article-nav-title">看门狗扫盲</div></a><a href="/2025/prefix%20remember%20to%20change!!!-c32fb0d47bf1/" class="article-nav-link"><strong class="article-nav-caption">下一篇</strong><div class="article-nav-title">数据通信</div></a></nav><script src="https://cdn.staticfile.org/twikoo/1.4.18/twikoo.all.min.js"></script><div id="twikoo" class="twikoo"></div><script>twikoo.init({envId:""})</script></article></section><footer class="footer"><div class="outer"><ul><li>Copyrights &copy; 2021-2025 <i class="ri-heart-fill heart_icon"></i> wrd</li></ul><ul><li></li></ul><ul><li><span><span><i class="ri-user-3-fill"></i>访问人数:<span id="busuanzi_value_site_uv"></span></span> <span class="division">|</span> <span><i class="ri-eye-fill"></i>浏览次数:<span id="busuanzi_value_page_pv"></span></span></span></li></ul><ul></ul><ul></ul><ul><li><script type="text/javascript" src="https://s9.cnzz.com/z_stat.php?id=1278069914&amp;web_id=1278069914"></script></li></ul></div></footer></main><div class="float_btns"><div class="totop" id="totop"><i class="ri-arrow-up-line"></i></div><div class="todark" id="todark"><i class="ri-moon-line"></i></div></div><aside class="sidebar on"><button class="navbar-toggle"></button><nav class="navbar"><div class="logo"><a href="/"><img src="/images/ayer-side.svg" alt="仙人"></a></div><ul class="nav nav-main"><li class="nav-item"><a class="nav-item-link" href="/">主页</a></li><li class="nav-item"><a class="nav-item-link" href="/archives">归档</a></li><li class="nav-item"><a class="nav-item-link" href="/categories">分类</a></li><li class="nav-item"><a class="nav-item-link" href="/tags">标签</a></li></ul></nav><nav class="navbar navbar-bottom"><ul class="nav"><li class="nav-item"><a class="nav-item-link nav-item-search" title="搜索"><i class="ri-search-line"></i> </a><a class="nav-item-link" target="_blank" href="/atom.xml" title="RSS Feed"><i class="ri-rss-line"></i></a></li></ul></nav><div class="search-form-wrap"><div class="local-search local-search-plugin"><input type="search" id="local-search-input" class="local-search-input" placeholder="Search..."><div id="local-search-result" class="local-search-result"></div></div></div></aside><div id="mask"></div><div id="reward"><span class="close"><i class="ri-close-line"></i></span><p class="reward-p"><i class="ri-cup-line"></i>请我喝杯咖啡吧~</p><div class="reward-box"><div class="reward-item"><img class="reward-img" src="/images/alipay.jpg"> <span class="reward-type">支付宝</span></div><div class="reward-item"><img class="reward-img" src="/images/wechat.jpg"> <span class="reward-type">微信</span></div></div></div><script src="/js/jquery-3.6.0.min.js"></script><script src="/js/lazyload.min.js"></script><script src="/js/tocbot.min.js"></script><script>tocbot.init({tocSelector:".tocbot",contentSelector:".article-entry",headingSelector:"h1, h2, h3, h4, h5, h6",hasInnerContainers:!0,scrollSmooth:!0,scrollContainer:"main",positionFixedSelector:".tocbot",positionFixedClass:"is-position-fixed",fixedSidebarOffset:"auto"})</script><script src="https://cdn.staticfile.org/jquery-modal/0.9.2/jquery.modal.min.js"></script><link rel="stylesheet" href="https://cdn.staticfile.org/jquery-modal/0.9.2/jquery.modal.min.css"><script src="https://cdn.staticfile.org/justifiedGallery/3.8.1/js/jquery.justifiedGallery.min.js"></script><script src="/dist/main.js"></script><div class="pswp" tabindex="-1" role="dialog" aria-hidden="true"><div class="pswp__bg"></div><div class="pswp__scroll-wrap"><div class="pswp__container"><div class="pswp__item"></div><div class="pswp__item"></div><div class="pswp__item"></div></div><div class="pswp__ui pswp__ui--hidden"><div class="pswp__top-bar"><div class="pswp__counter"></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button> <button class="pswp__button pswp__button--share" style="display:none" title="Share"></button> <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button> <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class="pswp__preloader"><div class="pswp__preloader__icn"><div class="pswp__preloader__cut"><div class="pswp__preloader__donut"></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class="pswp__share-tooltip"></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)"></button> <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class="pswp__caption"><div class="pswp__caption__center"></div></div></div></div></div><link rel="stylesheet" href="https://cdn.staticfile.org/photoswipe/4.1.3/photoswipe.min.css"><link rel="stylesheet" href="https://cdn.staticfile.org/photoswipe/4.1.3/default-skin/default-skin.min.css"><script src="https://cdn.staticfile.org/photoswipe/4.1.3/photoswipe.min.js"></script><script src="https://cdn.staticfile.org/photoswipe/4.1.3/photoswipe-ui-default.min.js"></script><script>function viewer_init(){let i=document.querySelectorAll(".pswp")[0],r=document.querySelectorAll(".article-entry img:not(.reward-img)");r.forEach((t,e)=>{t.onclick=()=>{if(!document.querySelector(".left-col.show")){let o=[];r.forEach((t,e)=>{t.getAttribute("data-idx",e);var e=t.getAttribute("data-target")||t.getAttribute("src"),i=t.getAttribute("alt"),r=new Image;r.src=e,o.push({src:e,w:r.width||t.width,h:r.height||t.height,title:i})}),new PhotoSwipe(i,PhotoSwipeUI_Default,o,{index:parseInt(e)}).init()}}})}viewer_init()</script><script src="/js/busuanzi-2.3.pure.min.js"></script><script src="/js/clickBoom2.js"></script><link rel="stylesheet" href="/css/clipboard.css"><script src="https://cdn.staticfile.org/clipboard.js/2.0.10/clipboard.min.js"></script><script>function wait(e,i){window.setTimeout(e,i)}!function(){var e;e="",e+='<button class="btn-copy" data-clipboard-snippet=""><i class="ri-file-copy-2-line"></i><span>COPY</span></button>',$(".highlight .code pre").before(e),$(".article pre code").before(e),(e=new ClipboardJS(".btn-copy",{target:function(e){return e.nextElementSibling}})).on("success",function(e){e=$(e.trigger);e.addClass("copied");let i=$(e.find("i")),n=(i.removeClass("ri-file-copy-2-line"),i.addClass("ri-checkbox-circle-line"),$(e.find("span")));n[0].innerText="COPIED",wait(function(){i.removeClass("ri-checkbox-circle-line"),i.addClass("ri-file-copy-2-line"),n[0].innerText="COPY"},2e3)}),e.on("error",function(e){e.clearSelection();e=$(e.trigger);e.addClass("copy-failed");let i=$(e.find("i")),n=(i.removeClass("ri-file-copy-2-line"),i.addClass("ri-time-line"),$(e.find("span")));n[0].innerText="COPY FAILED",wait(function(){i.removeClass("ri-time-line"),i.addClass("ri-file-copy-2-line"),n[0].innerText="COPY"},2e3)})}((window,document))</script><script src="/js/dz.js"></script><script>window.mermaid&&mermaid.initialize({theme:"forest"})</script></div></body>