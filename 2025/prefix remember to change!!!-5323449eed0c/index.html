<!DOCTYPE html><html lang="zh-CN"><head><meta charset="utf-8"><meta name="keywords" content="代码,博客,折腾,汽车电子"><meta name="description" content="分享嵌入式系统与CAN总线开发相关知识"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><title>看门狗扫盲 | 仙人</title><meta name="generator" content="hexo-theme-ayer"><link rel="shortcut icon" href="/favicon.ico"><link rel="stylesheet" href="/dist/main.css"><link rel="stylesheet" href="/css/fonts/remixicon.css"><link rel="stylesheet" href="/css/custom.css"><script src="https://cdn.staticfile.org/pace/1.2.4/pace.min.js"></script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@sweetalert2/theme-bulma@5.0.1/bulma.min.css"><script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.0.19/dist/sweetalert2.min.js"></script><style>.swal2-styled.swal2-confirm{font-size:1.6rem}</style><link rel="alternate" href="/atom.xml" title="仙人" type="application/atom+xml"></head></html><body><div id="app"><canvas width="1777" height="841" style="position:fixed;left:0;top:0;z-index:99999;pointer-events:none"></canvas><main class="content on"><section class="outer"><article id="post-看门狗扫盲" class="article article-type-post" itemscope itemprop="blogPost" data-scroll-reveal><div class="article-inner"><header class="article-header"><h1 class="article-title sea-center" style="border-left:0" itemprop="name">看门狗扫盲</h1></header><div class="article-meta"><a href="/2025/prefix%20remember%20to%20change!!!-5323449eed0c/" class="article-date"><time datetime="2025-10-25T15:03:12.000Z" itemprop="datePublished">2025-10-25</time></a><div class="article-category"><a class="article-category-link" href="/categories/%E5%B5%8C%E5%85%A5%E5%BC%8F%E6%A6%82%E5%BF%B5%E6%89%AB%E7%9B%B2/">嵌入式概念扫盲</a></div><div class="word_count"><span class="post-time"><span class="post-meta-item-icon"><i class="ri-quill-pen-line"></i> <span class="post-meta-item-text">字数统计:</span> <span class="post-count">1.7k</span> </span></span><span class="post-time">&nbsp; | &nbsp; <span class="post-meta-item-icon"><i class="ri-book-open-line"></i> <span class="post-meta-item-text">阅读时长≈</span> <span class="post-count">6 分钟</span></span></span></div></div><div class="tocbot"></div><div class="article-entry" itemprop="articleBody"><blockquote><p>下面以STM32为例介绍</p></blockquote><h1 id="独立看门狗"><a href="#独立看门狗" class="headerlink" title="独立看门狗"></a>独立看门狗</h1><p>在由单片机构成的微型计算机系统中，由于单片机的工作常常会受到来自外界电磁场的干扰，（造成各种寄存器和内存的数据混乱，导致程序指针错误，不在程序区，取出错误的程序指令等）造成程序的跑飞，而陷入死循环，程序的正常运行被打断，由单片机控制的系统无法继续工作，会造成整个系统陷入停滞状态，发生不可预料的后果，所以出于对单片机运行状态进行实时监测的考虑，便产生了一种专门用于监测单片机程序运行状态的模块或者芯片，俗称“看门狗”(watchdog)。</p><p>看门狗是一个定时器电路， 一般有一个输入，叫喂狗，一个输出到MCU的RST端，MCU正常工作的时候，每隔一段时间输出一个信号到喂狗端，给WDT清零，如果超过规定的时间不喂狗，(一般在程序跑飞时，不在程序正常的状态)，WDT 定时超过，就会给出一个复位信号到MCU，使MCU复位，防止MCU死机。所以，看门狗的作用就是防止程序发生死循环，或者说程序跑飞。</p><p>独立看门狗(IWDG)由专用的低速时钟(LSI)驱动，即使主时钟发生故障它仍有效。换句话说，独立看门狗拥有自己的时钟源。假如PLL崩溃了，负责运行程序的硬件单元ALU就无法工作，也就无法喂狗。独立看门狗依然能够正常工作，检测到其计数值为0，认为软件故障，则触发系统复位。</p><p>注：看门狗命令在程序的中断中拥有最高的优先级。</p><p><strong>场景</strong></p><p>独立看门狗适合应用于需要看门狗作为一个在主程序之外能够完全独立工作，并且对时间精度要求低的场合。</p><p>以STM32为例：</p><p><img src="https://raw.githubusercontent.com/xianren-WRD/Picture/main/img/20201116192745.png" alt="image-20200822145753829"></p><p>STM32F4的独立看门狗由内部专门的 32Khz 低速时钟（LSI）驱动，即使主时钟发生故障，它也仍然有效。这里需要注意独立看门狗的时钟是一个内部RC时钟，所以并不是准确的32Khz，而是在15~47Khz 之间的一个可变化的时钟，只是我们在估算的时候，以 32Khz 的频率来计算，独立看门狗对时间的要求不是很精确，所以，时钟有些偏差都是接受的范围。</p><p>当通过对关键字寄存器 (IWDG_KR) 写入值 0xCCCC 启动独立看门狗时，计数器开始从复位值 0xFFF 递减计数。当计数器计数到终值 (0x000) 时会产生一个复位信号（ IWDG 复位）。任何时候将关键字 0xAAAA 写到 IWWDG_KR 寄存器中， IWDG_RLR 的值就会被重载到计数器，从而避免产生看门狗复位。</p><p><strong>寄存器访问保护</strong><br>IWDG_PR 和 IWDG_RLR 寄存器具有写访问保护。若要修改寄存器，必须首先对 IWDG_KR寄存器写入代码 0x5555，而写入其他值则会破坏该序列，从而使寄存器访问保护再次生效。这意味着重装载操作（即写入 0xAAAA）也会启动写保护功能。注：状态寄存器指示预分频值和递减计数器是否正在被更新。</p><ol><li><p>在键值寄存器（IWDG_KR)中写入0xCCCC，开始启用独立看门狗。此时计数器开始从其复位值0xFFF递减，当计数器值计数到尾值0x000时会产生一个复位信号（IWDG_RESET)。</p></li><li><p>无论何时，只要在键值寄存器IWDG_KR中写入0xAAAA（通常说的喂狗）, 自动重装载寄存器IWDG_RLR的值就会重新加载到计数器，从而避免看门狗复位。</p></li><li><p>如果程序异常，就无法正常喂狗，从而系统复位。</p><img src="https://raw.githubusercontent.com/xianren-WRD/Picture/main/img/20201116192758.png" alt="image-20200822150407952" style="zoom:80%"></li></ol><h2 id="独立看门狗配置流程"><a href="#独立看门狗配置流程" class="headerlink" title="独立看门狗配置流程"></a>独立看门狗配置流程</h2><p>添加支持独立看门狗的库函数文件：<code>stm32f4xx_iwdg.c</code></p><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">void</span> <span class="title function_">Iwdg_Init</span><span class="params">(<span class="type">void</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//1、 取消寄存器写保护：</span></span><br><span class="line">    IWDG_WriteAccessCmd(IWDG_WriteAccess_Enable);</span><br><span class="line">    <span class="comment">//2、设置独立看门狗的预分频系数，确定时钟:125HZ (32000/256=125)</span></span><br><span class="line">    IWDG_SetPrescaler(IWDG_Prescaler_256);</span><br><span class="line">    <span class="comment">//3、设置看门狗重装载值，确定溢出时间:2s</span></span><br><span class="line">    IWDG_SetReload(<span class="number">250</span>);</span><br><span class="line">    <span class="comment">//4、使能看门狗</span></span><br><span class="line">    IWDG_Enable();</span><br><span class="line">    <span class="comment">//5、喂狗</span></span><br><span class="line">    IWDG_ReloadCounter();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>在裸机代码实现喂狗，放在定时器里面，因为定时器与看门狗是使用不同的时钟源，允许这么做！</p><img src="https://raw.githubusercontent.com/xianren-WRD/Picture/main/img/20201116192810.png" alt="image-20200913213928315" style="zoom:67%"><p>如果<strong>有实时的操作系统</strong>，可以在<strong>任务里面添加喂狗动作</strong>，如果操作系统崩溃了，能够检测到软件的错误，触发CPU的复位。</p><h1 id="窗口看门狗"><a href="#窗口看门狗" class="headerlink" title="窗口看门狗"></a>窗口看门狗</h1><p>窗口看门狗通常被用来监测，由外部干扰或不可预见的逻辑条件造成的应用程序背离正常的运行序列而产生的软件故障。除非递减计数器的值在T6位变成0前被刷新，看门狗电路在达到预置的时间周期时，会产生一个MCU复位。如果在递减计数器达到窗口寄存器值之前刷新控制寄存器中的递减计数器值，也会产生MCU复位。这意味着必须在限定的时间窗口内刷新计数器。</p><p><strong>WWDG主要特性</strong></p><ul><li>可编程的自由运行递减计数器</li><li>复位条件<ul><li>当递减计数器值小于0x40时复位(如果看门狗已激活)。</li><li>在窗口之外重载递减计数器时复位(如果看门狗已激活)。</li></ul></li><li>提前唤醒中断(EWI)：当递减计数器等于0x40时触发( 如果已使能且看门狗已激活)</li></ul><img src="https://raw.githubusercontent.com/xianren-WRD/Picture/main/img/20201116192818.png" alt="image-20200913214821839" style="zoom:67%"><h2 id="窗口看门狗配置流程"><a href="#窗口看门狗配置流程" class="headerlink" title="窗口看门狗配置流程"></a>窗口看门狗配置流程</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//窗口看门狗的时钟频率1281Hz，每进行减一计数，所花的时间</span></span><br><span class="line">     T=<span class="number">1</span>/f=<span class="number">1</span>/<span class="number">1281</span>Hz≈<span class="number">780u</span>s</span><br><span class="line"></span><br><span class="line"><span class="comment">//从127减到80，要进行47次的计数，所花的时间</span></span><br><span class="line">     T=<span class="number">780u</span>s * (<span class="number">127</span><span class="number">-80</span>) =<span class="number">36.66</span>ms</span><br><span class="line"></span><br><span class="line"><span class="comment">//从127减到64，要进行64次的计数，所花的时间</span></span><br><span class="line">     T=<span class="number">780u</span>s * (<span class="number">127</span><span class="number">-64</span>+<span class="number">1</span>) =<span class="number">49.92</span>ms</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/* 窗口看门狗的配置 */</span></span><br><span class="line"><span class="comment">/* 使能窗口看门狗的时钟 */</span></span><br><span class="line">RCC_APB1PeriphClockCmd(RCC_APB1Periph_WWDG, ENABLE);</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 窗口看门狗的时钟 = (PCLK1 (42MHz)/4096)/8 = 1281 Hz (~780 us)  */</span></span><br><span class="line">WWDG_SetPrescaler(WWDG_Prescaler_8);</span><br><span class="line"></span><br><span class="line"><span class="comment">/*     设置窗口的上限值为80 */</span></span><br><span class="line">WWDG_SetWindowValue(<span class="number">80</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 设置计数值的初值为127，则窗口看门狗的最大超时时间 = 780 us * 64 = 49.92 ms </span></span><br><span class="line"><span class="comment">        这个时候窗口刷新时间如下</span></span><br><span class="line"><span class="comment">        ~780 * (127-80) = 36.66ms &lt; refresh window &lt; ~780 * 64 = 49.9ms */</span></span><br><span class="line">WWDG_Enable(<span class="number">127</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//WWDG NVIC 配置</span></span><br><span class="line">NVIC_InitStructure.NVIC_IRQChannel = WWDG_IRQn;            <span class="comment">//窗口看门狗中断通道</span></span><br><span class="line">NVIC_InitStructure.NVIC_IRQChannelPreemptionPriority=<span class="number">0</span>;        <span class="comment">//抢占优先级0</span></span><br><span class="line">NVIC_InitStructure.NVIC_IRQChannelSubPriority =<span class="number">0</span>;        <span class="comment">//子优先级0</span></span><br><span class="line">NVIC_InitStructure.NVIC_IRQChannelCmd = ENABLE;            <span class="comment">//IRQ通道使能</span></span><br><span class="line">NVIC_Init(&amp;NVIC_InitStructure);                    <span class="comment">//根据指定的参数初始化VIC寄存器    </span></span><br><span class="line"><span class="comment">//清空提前唤醒中断标志位</span></span><br><span class="line">WWDG_ClearFlag();</span><br><span class="line"></span><br><span class="line"><span class="comment">//使能提前唤醒中断</span></span><br><span class="line">WWDG_EnableIT();</span><br><span class="line"></span><br><span class="line"><span class="comment">//看门狗中断服务函数</span></span><br><span class="line"><span class="type">void</span> <span class="title function_">WWDG_IRQHandler</span><span class="params">(<span class="type">void</span>)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">if</span>(WWDG_GetFlagStatus()==SET)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//进行喂狗</span></span><br><span class="line">        WWDG_SetCounter(<span class="number">127</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//清空提前唤醒中断标志位</span></span><br><span class="line">        WWDG_ClearFlag();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><div id="reword-out"><div id="reward-btn">打赏</div></div></div><div class="declare"><ul class="post-copyright"><li><i class="ri-copyright-line"></i> <strong>版权声明： </strong>本博客所有文章除特别声明外，著作权归作者所有。转载请注明出处！</li></ul></div><footer class="article-footer"><div class="share-btn"><span class="share-sns share-outer"><i class="ri-share-forward-line"></i> 分享</span><div class="share-wrap"><i class="arrow"></i><div class="share-icons"><a class="weibo share-sns" href="javascript:;" data-type="weibo"><i class="ri-weibo-fill"></i> </a><a class="weixin share-sns wxFab" href="javascript:;" data-type="weixin"><i class="ri-wechat-fill"></i> </a><a class="qq share-sns" href="javascript:;" data-type="qq"><i class="ri-qq-fill"></i> </a><a class="douban share-sns" href="javascript:;" data-type="douban"><i class="ri-douban-line"></i> </a><a class="facebook share-sns" href="javascript:;" data-type="facebook"><i class="ri-facebook-circle-fill"></i> </a><a class="twitter share-sns" href="javascript:;" data-type="twitter"><i class="ri-twitter-fill"></i> </a><a class="google share-sns" href="javascript:;" data-type="google"><i class="ri-google-fill"></i></a></div></div></div><div class="wx-share-modal"><a class="modal-close" href="javascript:;"><i class="ri-close-circle-line"></i></a><p>扫一扫，分享到微信</p><div class="wx-qrcode"><img src="//api.qrserver.com/v1/create-qr-code/?size=150x150&data=https://xianren-wrd.github.io/2025/prefix%20remember%20to%20change!!!-5323449eed0c/" alt="微信分享二维码"></div></div><div id="share-mask"></div><ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E7%9C%8B%E9%97%A8%E7%8B%97/" rel="tag">看门狗</a></li></ul></footer></div><nav class="article-nav"><a href="/2025/prefix%20remember%20to%20change!!!-ad3df2fe07bc/" class="article-nav-link"><strong class="article-nav-caption">上一篇</strong><div class="article-nav-title">IIC介绍</div></a><a href="/2025/prefix%20remember%20to%20change!!!-e79f52ee8adb/" class="article-nav-link"><strong class="article-nav-caption">下一篇</strong><div class="article-nav-title">中断扫盲</div></a></nav><script src="https://cdn.staticfile.org/twikoo/1.4.18/twikoo.all.min.js"></script><div id="twikoo" class="twikoo"></div><script>twikoo.init({envId:""})</script></article></section><footer class="footer"><div class="outer"><ul><li>Copyrights &copy; 2021-2025 <i class="ri-heart-fill heart_icon"></i> wrd</li></ul><ul><li></li></ul><ul><li><span><span><i class="ri-user-3-fill"></i>访问人数:<span id="busuanzi_value_site_uv"></span></span> <span class="division">|</span> <span><i class="ri-eye-fill"></i>浏览次数:<span id="busuanzi_value_page_pv"></span></span></span></li></ul><ul></ul><ul></ul><ul><li><script type="text/javascript" src="https://s9.cnzz.com/z_stat.php?id=1278069914&amp;web_id=1278069914"></script></li></ul></div></footer></main><div class="float_btns"><div class="totop" id="totop"><i class="ri-arrow-up-line"></i></div><div class="todark" id="todark"><i class="ri-moon-line"></i></div></div><aside class="sidebar on"><button class="navbar-toggle"></button><nav class="navbar"><div class="logo"><a href="/"><img src="/images/ayer-side.svg" alt="仙人"></a></div><ul class="nav nav-main"><li class="nav-item"><a class="nav-item-link" href="/">主页</a></li><li class="nav-item"><a class="nav-item-link" href="/archives">归档</a></li><li class="nav-item"><a class="nav-item-link" href="/categories">分类</a></li><li class="nav-item"><a class="nav-item-link" href="/tags">标签</a></li></ul></nav><nav class="navbar navbar-bottom"><ul class="nav"><li class="nav-item"><a class="nav-item-link nav-item-search" title="搜索"><i class="ri-search-line"></i> </a><a class="nav-item-link" target="_blank" href="/atom.xml" title="RSS Feed"><i class="ri-rss-line"></i></a></li></ul></nav><div class="search-form-wrap"><div class="local-search local-search-plugin"><input type="search" id="local-search-input" class="local-search-input" placeholder="Search..."><div id="local-search-result" class="local-search-result"></div></div></div></aside><div id="mask"></div><div id="reward"><span class="close"><i class="ri-close-line"></i></span><p class="reward-p"><i class="ri-cup-line"></i>请我喝杯咖啡吧~</p><div class="reward-box"><div class="reward-item"><img class="reward-img" src="/images/alipay.jpg"> <span class="reward-type">支付宝</span></div><div class="reward-item"><img class="reward-img" src="/images/wechat.jpg"> <span class="reward-type">微信</span></div></div></div><script src="/js/jquery-3.6.0.min.js"></script><script src="/js/lazyload.min.js"></script><script src="/js/tocbot.min.js"></script><script>tocbot.init({tocSelector:".tocbot",contentSelector:".article-entry",headingSelector:"h1, h2, h3, h4, h5, h6",hasInnerContainers:!0,scrollSmooth:!0,scrollContainer:"main",positionFixedSelector:".tocbot",positionFixedClass:"is-position-fixed",fixedSidebarOffset:"auto"})</script><script src="https://cdn.staticfile.org/jquery-modal/0.9.2/jquery.modal.min.js"></script><link rel="stylesheet" href="https://cdn.staticfile.org/jquery-modal/0.9.2/jquery.modal.min.css"><script src="https://cdn.staticfile.org/justifiedGallery/3.8.1/js/jquery.justifiedGallery.min.js"></script><script src="/dist/main.js"></script><div class="pswp" tabindex="-1" role="dialog" aria-hidden="true"><div class="pswp__bg"></div><div class="pswp__scroll-wrap"><div class="pswp__container"><div class="pswp__item"></div><div class="pswp__item"></div><div class="pswp__item"></div></div><div class="pswp__ui pswp__ui--hidden"><div class="pswp__top-bar"><div class="pswp__counter"></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button> <button class="pswp__button pswp__button--share" style="display:none" title="Share"></button> <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button> <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class="pswp__preloader"><div class="pswp__preloader__icn"><div class="pswp__preloader__cut"><div class="pswp__preloader__donut"></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class="pswp__share-tooltip"></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)"></button> <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class="pswp__caption"><div class="pswp__caption__center"></div></div></div></div></div><link rel="stylesheet" href="https://cdn.staticfile.org/photoswipe/4.1.3/photoswipe.min.css"><link rel="stylesheet" href="https://cdn.staticfile.org/photoswipe/4.1.3/default-skin/default-skin.min.css"><script src="https://cdn.staticfile.org/photoswipe/4.1.3/photoswipe.min.js"></script><script src="https://cdn.staticfile.org/photoswipe/4.1.3/photoswipe-ui-default.min.js"></script><script>function viewer_init(){let i=document.querySelectorAll(".pswp")[0],r=document.querySelectorAll(".article-entry img:not(.reward-img)");r.forEach((t,e)=>{t.onclick=()=>{if(!document.querySelector(".left-col.show")){let o=[];r.forEach((t,e)=>{t.getAttribute("data-idx",e);var e=t.getAttribute("data-target")||t.getAttribute("src"),i=t.getAttribute("alt"),r=new Image;r.src=e,o.push({src:e,w:r.width||t.width,h:r.height||t.height,title:i})}),new PhotoSwipe(i,PhotoSwipeUI_Default,o,{index:parseInt(e)}).init()}}})}viewer_init()</script><script src="/js/busuanzi-2.3.pure.min.js"></script><script src="/js/clickBoom2.js"></script><link rel="stylesheet" href="/css/clipboard.css"><script src="https://cdn.staticfile.org/clipboard.js/2.0.10/clipboard.min.js"></script><script>function wait(e,i){window.setTimeout(e,i)}!function(){var e;e="",e+='<button class="btn-copy" data-clipboard-snippet=""><i class="ri-file-copy-2-line"></i><span>COPY</span></button>',$(".highlight .code pre").before(e),$(".article pre code").before(e),(e=new ClipboardJS(".btn-copy",{target:function(e){return e.nextElementSibling}})).on("success",function(e){e=$(e.trigger);e.addClass("copied");let i=$(e.find("i")),n=(i.removeClass("ri-file-copy-2-line"),i.addClass("ri-checkbox-circle-line"),$(e.find("span")));n[0].innerText="COPIED",wait(function(){i.removeClass("ri-checkbox-circle-line"),i.addClass("ri-file-copy-2-line"),n[0].innerText="COPY"},2e3)}),e.on("error",function(e){e.clearSelection();e=$(e.trigger);e.addClass("copy-failed");let i=$(e.find("i")),n=(i.removeClass("ri-file-copy-2-line"),i.addClass("ri-time-line"),$(e.find("span")));n[0].innerText="COPY FAILED",wait(function(){i.removeClass("ri-time-line"),i.addClass("ri-file-copy-2-line"),n[0].innerText="COPY"},2e3)})}((window,document))</script><script src="/js/dz.js"></script><script>window.mermaid&&mermaid.initialize({theme:"forest"})</script></div></body>